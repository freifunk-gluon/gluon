!function(){function e(e){return/^-?\d+$/.test(e)?+e:NaN}function t(e){return/^-?\d*\.?\d+?$/.test(e)?+e:NaN}function n(e){var t,n;return(n=e.match(/^([^\(]+)\(([^,]+),([^\)]+)\)$/))&&(t=s[n[1]])!==undefined?function(){return t.apply(this,[n[2],n[3]])}:(n=e.match(/^([^\(]+)\(([^,\)]+)\)$/))&&(t=s[n[1]])!==undefined?function(){return t.apply(this,[n[2]])}:s[e]}function a(e,t){var n,a=document.getElementById(e);return a&&(n="checkbox"==a.type?a.checked:a.value?a.value:""),n==t}function r(e){for(var t=0;t<e.length;t++){var n=!0;for(var r in e[t])n=n&&a(r,e[t][r]);if(n)return!0}return!1}function i(){var e=!1;for(var t in c){var n=c[t],a=document.getElementById(t),u=document.getElementById(n.parent);if(a&&a.parentNode&&!r(n.deps))a.parentNode.removeChild(a),e=!0;else if(u&&(!a||!a.parentNode)&&r(n.deps)){var d=undefined;for(d=u.firstChild;d&&!(d.getAttribute&&parseInt(d.getAttribute("data-index"),10)>n.index);d=d.nextSibling);d?u.insertBefore(n.node,d):u.appendChild(n.node),e=!0}u&&u.parentNode&&u.getAttribute("data-optionals")&&(u.parentNode.style.display=u.options.length<=1?"none":"")}e&&i()}function u(e,t,n,a){return e.addEventListener?e.addEventListener(t,n,!!a):e.attachEvent("on"+t,function(){var e=window.event;return!e.target&&e.srcElement&&(e.target=e.srcElement),!!n(e)}),e}function d(e,t,n){function a(a,s,f){for(var p=[];e.firstChild;){var h=e.firstChild,v=+h.index;v!=f&&("input"==h.nodeName.toLowerCase()?p.push(h.value||""):"select"==h.nodeName.toLowerCase()&&(p[p.length-1]=h.options[h.selectedIndex].value)),e.removeChild(h)}s>=0?(a=s+1,p.splice(s,0,"")):n||0!=p.length||p.push("");for(var v=1;v<=p.length;v++){var g=document.createElement("input");if(g.id=l+"."+v,g.name=l,g.value=p[v-1],g.type="text",g.index=v,g.className="gluon-input-text",c&&(g.placeholder=c),e.appendChild(g),t&&o(g,!1,t),u(g,"keydown",i),u(g,"keypress",r),v==a)g.focus();else if(-v==a){g.focus();var m=g.value;g.value=" ",g.value=m}if(n||p.length>1){var y=document.createElement("span");y.className="gluon-remove",e.appendChild(y),u(y,"click",d(!1)),e.appendChild(document.createElement("br"))}}var y=document.createElement("span");y.className="gluon-add",e.appendChild(y),u(y,"click",d(!0))}function r(e){e=e?e:window.event;var t=e.target?e.target:e.srcElement;switch(3==t.nodeType&&(t=t.parentNode),e.keyCode){case 8:case 46:return 0!=t.value.length||(e.preventDefault&&e.preventDefault(),!1);case 13:case 38:case 40:return e.preventDefault&&e.preventDefault(),!1}return!0}function i(e){e=e?e:window.event;var t,n,r=e.target?e.target:e.srcElement,i=0;if(r){for(3==r.nodeType&&(r=r.parentNode),i=r.index,t=r.previousSibling;t&&t.name!=l;)t=t.previousSibling;for(n=r.nextSibling;n&&n.name!=l;)n=n.nextSibling}switch(e.keyCode){case 8:case 46:if("select"==r.nodeName.toLowerCase()||0==r.value.length){e.preventDefault&&e.preventDefault();var u=r.index;return 8==e.keyCode&&(u=1-u),a(u,-1,i),!1}break;case 13:a(-1,i,-1);break;case 38:t&&t.focus();break;case 40:n&&n.focus()}return!0}function d(e){return function(t){t=t?t:window.event;for(var n=t.target?t.target:t.srcElement,a=n.previousSibling;a&&a.name!=l;)a=a.previousSibling;return e?i({target:a,keyCode:13}):(a.value="",i({target:a,keyCode:8})),!1}}var l=e.getAttribute("data-prefix"),c=e.getAttribute("data-placeholder");a(NaN,-1,-1)}function o(e,t,a){var r=n(a);if(r){var i=function(){if(e.form){e.className=e.className.replace(/ gluon-input-invalid/g,"");var n=e.options&&e.options.selectedIndex>-1?e.options[e.options.selectedIndex].value:e.value;0==n.length&&t||r.apply(n)||(e.className+=" gluon-input-invalid")}};u(e,"blur",i),u(e,"keyup",i),"SELECT"==e.nodeName&&(u(e,"change",i),u(e,"click",i)),i()}}function l(e,t,n){var a=c[e.id];a||(a={node:e,parent:e.parentNode.id,deps:[],index:n},c[e.id]=a),a.deps.push(t)}var c={},s={integer:function(){return!isNaN(e(this))},uinteger:function(){return e(this)>=0},"float":function(){return!isNaN(t(this))},ufloat:function(){return t(this)>=0},ipaddr:function(){return s.ip4addr.apply(this)||s.ip6addr.apply(this)},ip4addr:function(){var e;return!!(e=this.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/))&&(e[1]>=0&&e[1]<=255&&e[2]>=0&&e[2]<=255&&e[3]>=0&&e[3]<=255&&e[4]>=0&&e[4]<=255)},ip6addr:function(){return this.indexOf("::")<0?null!=this.match(/^(?:[a-f0-9]{1,4}:){7}[a-f0-9]{1,4}$/i):!(this.indexOf(":::")>=0||this.match(/::.+::/)||this.match(/^:[^:]/)||this.match(/[^:]:$/))&&(!!this.match(/^(?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}$/i)||(!!this.match(/^(?:[a-f0-9]{1,4}:){7}:$/i)||!!this.match(/^:(?::[a-f0-9]{1,4}){7}$/i)))},wpakey:function(){var e=this;return 64==e.length?null!=e.match(/^[a-f0-9]{64}$/i):e.length>=8&&e.length<=63},range:function(e,n){var a=t(this);return a>=+e&&a<=+n},min:function(e){return t(this)>=+e},max:function(e){return t(this)<=+e},irange:function(t,n){var a=e(this);return a>=+t&&a<=+n},imin:function(t){return e(this)>=+t},imax:function(t){return e(this)<=+t},minlength:function(e){return(""+this).length>=+e},maxlength:function(e){return(""+this).length<=+e}};!function(){var e;e=document.querySelectorAll("[data-depends]");for(var t,n=0;(t=e[n])!==undefined;n++){var a=parseInt(t.getAttribute("data-index"),10),r=JSON.parse(t.getAttribute("data-depends"));if(!isNaN(a)&&r.length>0)for(var c=0;c<r.length;c++)l(t,r[c],a)}e=document.querySelectorAll("[data-update]");for(var t,n=0;(t=e[n])!==undefined;n++)for(var s,f=t.getAttribute("data-update").split(" "),p=0;(s=f[p])!==undefined;p++)u(t,s,i);e=document.querySelectorAll("[data-type]");for(var t,n=0;(t=e[n])!==undefined;n++)o(t,"true"===t.getAttribute("data-optional"),t.getAttribute("data-type"));e=document.querySelectorAll("[data-dynlist]");for(var t,n=0;(t=e[n])!==undefined;n++){var h=JSON.parse(t.getAttribute("data-dynlist"));d(t,h.type,h.optional)}i()}()}();