# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2015-2019, Project Gluon
# This file is distributed under the same license as the Gluon package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Gluon 2018.2+\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2019-04-20 16:46-0400\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../dev/hardware.rst:2
# 195505b33afa4c3eb5711414569276ac
msgid "Adding support for new hardware"
msgstr ""

#: ../../dev/hardware.rst:3
# c874690d32a84a31a1a42250b0e9db67
msgid "This page will give a short overview on how to add support for new hardware to Gluon."
msgstr ""

#: ../../dev/hardware.rst:7
# 8c10bccacb8b425c8ead7ba51e072e0e
msgid "Hardware requirements"
msgstr ""

#: ../../dev/hardware.rst:8
# bc4c81ec597744029c881b04116dfa52
msgid "Having an ath9k (or ath10k) based WLAN adapter is highly recommended, although other chipsets may also work. VAP (multiple SSID) support is a requirement."
msgstr ""

#: ../../dev/hardware.rst:16
# cea9fcc710894dd9ab4f1601b80c4131
msgid "Adding profiles"
msgstr ""

#: ../../dev/hardware.rst:17
# 5e4eb51605c0429a93cbb6b53d987ce8
msgid "The vast majority of devices with ath9k WLAN is based on the ar71xx target of OpenWrt. If the hardware you want to add support for is ar71xx, adding a new profile is sufficient."
msgstr ""

#: ../../dev/hardware.rst:21
# 91f5a569933d45949213ab7291147ebe
msgid "Profiles are defined in ``targets/*`` in a shell-based DSL (so common shell command syntax like ``if`` can be used)."
msgstr ""

#: ../../dev/hardware.rst:24
# e65a4a5e09004b5386a834c87883dc32
msgid "The ``device`` command is used to define an image build for a device. It takes two or three parameters."
msgstr ""

#: ../../dev/hardware.rst:27
# e1758be2ff1a47e4be3dceda8dbf36ed
msgid "The first parameter defines the Gluon profile name, which is used to refer to the device and is part of the generated image name. The profile name must be same as the output of the following command (on the target device), so the autoupdater can work::"
msgstr ""

#: ../../dev/hardware.rst:34
# 4edb80733f5f4a40a72340d3a8c3be77
msgid "While porting Gluon to a new device, it might happen that the profile name is unknown. Best practise is to generate an image first by using an arbitrary value and then executing the lua command on the device and use its output from then on."
msgstr ""

#: ../../dev/hardware.rst:38
# a89e2c146097496cad263d95d176e329
msgid "The second parameter defines the name of the image files generated by OpenWrt. Usually, it is also the OpenWrt profile name; for devices that still use the old image build code, a third parameter with the OpenWrt profile name can be passed. The profile names can be found in the image Makefiles in ``openwrt/target/linux/<target>/image/Makefile``."
msgstr ""

#: ../../dev/hardware.rst:43
# d01d13ab9a8c4e4281c2a0393941577e
msgid "Examples::"
msgstr ""

#: ../../dev/hardware.rst:49
# 6f1d0bd863504b05af3468bcc6125a63
msgid "Suffixes and extensions"
msgstr ""

#: ../../dev/hardware.rst:51
# bef420d417e64a8e80c830ccdac3c59a
msgid "By default, image files are expected to have the extension ``.bin``. In addition, the images generated by OpenWrt have a suffix before the extension that defaults to ``-squashfs-factory`` and ``-squashfs-sysupgrade``."
msgstr ""

#: ../../dev/hardware.rst:55
# 65a1d3deb5f44eef849ced4f86af70ca
msgid "This can be changed using the ``factory`` and ``sysupgrade`` commands, either at the top of the file to set the defaults for all images, or for a single image. There are three forms with 0 to 2 arguments (all work with ``sysupgrade`` as well)::"
msgstr ""

#: ../../dev/hardware.rst:63
# 052bca1996ae4b15a3da731dc97f37a9
msgid "When only an extension is given, the default suffix is retained. When no arguments are given, this signals that no factory (or sysupgrade) image exists."
msgstr ""

#: ../../dev/hardware.rst:67
# 7adb9ead7c5d46b5933d0ee23642ca66
msgid "Aliases"
msgstr ""

#: ../../dev/hardware.rst:69
# 9a6eb3d2835647889825da2de760c8c5
msgid "Sometimes multiple models use the same OpenWrt images. In this case, the ``alias`` command can be used to create symlinks and additional entries in the autoupdater manifest for the alternative models."
msgstr ""

#: ../../dev/hardware.rst:74
# fb7f4e4bf0af4bfe89af97f0d7f1b8bf
msgid "Standalone images"
msgstr ""

#: ../../dev/hardware.rst:76
# 87ae40a3907542fb88a05a5d4836dc86
msgid "On targets without *per-device rootfs* support in OpenWrt, the commands described above can't be used. Instead, ``factory_image`` and ``sysupgrade_image`` are used::"
msgstr ""

#: ../../dev/hardware.rst:82
# 6bd542ee31c14ac7bc4d4bca36d683e9
msgid "Again, the profile name must match the value printed by the aforementioned Lua command. The image name must match the part between the target name and the extension as generated by OpenWrt and is to be omitted when no such part exists."
msgstr ""

#: ../../dev/hardware.rst:87
# c36a3f03f0834c029962dd13c4380ea2
msgid "Packages"
msgstr ""

#: ../../dev/hardware.rst:89
# 2b94bf61936742398abf0e3da55b9017
msgid "The ``packages`` command takes an arbitrary number of arguments. Each argument defines an additional package to include in the images in addition to the default package sets defined by OpenWrt. When a package name is prefixed by a minus sign, the packages are excluded instead."
msgstr ""

#: ../../dev/hardware.rst:94
# 5babb9782db842bc998d20868799a5c0
msgid "The ``packages`` command may be used at the top of a target definition to modify the default package list for all images, or just for a single device (when the target supports *per-default rootfs*)."
msgstr ""

#: ../../dev/hardware.rst:100
# fa79a19f403948bdb8aaabc35599a786
msgid "Configuration"
msgstr ""

#: ../../dev/hardware.rst:102
# 6ecb57934c3345b8a7a16a6c88f6d2ab
msgid "The ``config`` command allows to add arbitrary target-specific OpenWrt configuration to be emitted to ``.config``."
msgstr ""

#: ../../dev/hardware.rst:106
# ab7b10e9b84e445aafe053c93aaeafa6
msgid "Notes"
msgstr ""

#: ../../dev/hardware.rst:108
# 443391f8b4ea4a58a141410d94d11376
msgid "On devices with multiple WLAN adapters, care must also be taken that the primary MAC address is configured correctly. ``/lib/gluon/core/sysconfig/primary_mac`` should contain the MAC address which can be found on a label on most hardware; if it does not, ``/lib/gluon/upgrade/010-primary-mac`` in ``gluon-core`` might need a fix. (There have also been cases in which the address was incorrect even on devices with only one WLAN adapter, in these cases a OpenWrt bug was the cause)."
msgstr ""

#: ../../dev/hardware.rst:116
# faf4ffec717e422fa0629aa04bb4cf38
msgid "Adding support for new hardware targets"
msgstr ""

#: ../../dev/hardware.rst:118
# 7a7edc6bbdb8414198d7227d5bf1a959
msgid "Adding a new target is much more complex than adding a new profile. There are two basic steps required for adding a new target:"
msgstr ""

#: ../../dev/hardware.rst:122
# d03e7598a68544b08886ea66cdaa8f59
msgid "Package adjustments"
msgstr ""

#: ../../dev/hardware.rst:124
# 237c3ffd992d42229f5f7ea4017eb7ff
msgid "One package that may need adjustments for new targets is ``libplatforminfo`` (to be found in `packages/gluon/libs/libplatforminfo <https://github.com/freifunk-gluon/packages/tree/master/libs/libplatforminfo>`_). If the new platform works fine with the definitions found in ``default.c``, nothing needs to be done. Otherwise, create a definition for the added target or subtarget, either by symlinking one of the files in the ``templates`` directory, or adding a new source file."
msgstr ""

#: ../../dev/hardware.rst:130
# 1a46e3a503134c71b8e41fe5385991fc
msgid "On many targets, Gluon's network setup scripts (mainly in the package ``gluon-core``) won't run correctly without some adjustments, so better double check that everything is fine there (and the files ``primary_mac``, ``lan_ifname`` and ``wan_ifname`` in ``/lib/gluon/core/sysconfig/`` contain sensible values)."
msgstr ""

#: ../../dev/hardware.rst:135
# 38edca0139e34c7b9c5b0f5511287222
msgid "Build system support"
msgstr ""

#: ../../dev/hardware.rst:137
# 1b8d2418d0ea437a90268452493b30f8
msgid "A definition for the new target must be created under ``targets``, and it must be added to ``targets/targets.mk``. The ``GluonTarget`` macro takes one to three arguments: the target name, the Gluon subtarget name (if the target has subtargets), and the OpenWrt subtarget name (if it differs from the Gluon subtarget). The third argument can be used to define multiple Gluon targets with different configuration for the same OpenWrt target, like it is done for the ``ar71xx-tiny`` target."
msgstr ""

#: ../../dev/hardware.rst:144
# 80b36ca9b8044cd1b9116c996229b1eb
msgid "After this, is should be sufficient to call ``make GLUON_TARGET=<target>`` to build the images for the new target."
msgstr ""

